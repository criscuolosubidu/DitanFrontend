# 快速诊断网络连接问题

## 第一步：打开浏览器控制台

1. 按 `F12` 打开开发者工具
2. 点击 `Console` 标签

## 第二步：尝试注册或登录

在表单中输入任意信息，点击按钮。

## 第三步：查看控制台输出

现在你会看到类似这样的日志：

### 正常情况：
```
🚀 API Request: { method: 'POST', url: '/register', ... }
✅ API Response Success: { status: 200, ... }
```

### 异常情况1：后端服务未启动
```
🚀 API Request: { method: 'POST', url: '/register', fullURL: 'https://www.universalfuture.online/api/v1/doctor/register', ... }
❌ API Error: { url: '/register', fullURL: 'https://www.universalfuture.online/api/v1/doctor/register', message: 'Network Error' }
🌐 Network Error (No Response): { code: 'ECONNREFUSED', message: '...' }
💡 可能的原因：
  1. 后端服务未启动
  2. API地址错误
  3. CORS跨域问题
  4. 网络连接问题
  5. 防火墙阻止连接
```

**分析**：这种情况说明前端请求已经发出，但是：
- 无法连接到服务器
- 或者连接被拒绝

### 异常情况2：CORS跨域错误
```
🚀 API Request: { method: 'POST', url: '/register', ... }
❌ API Error: { message: 'CORS policy: ...' }
```

**分析**：这是跨域问题，后端需要配置允许的前端域名。

### 异常情况3：404接口不存在
```
🚀 API Request: { method: 'POST', url: '/register', ... }
❌ API Error: { ... }
📊 Response Error Details: { status: 404, statusText: 'Not Found', ... }
```

**分析**：请求到达了服务器，但是接口路径不存在。

## 第四步：查看Network标签

1. 点击 `Network` 标签
2. 找到注册或登录请求
3. 点击查看详细信息：
   - **Status**: 状态码（404, 500等）
   - **Type**: 请求类型
   - **Name**: 请求名称
   - **点击查看Headers和Response**

## 常见错误码含义

| 状态码 | 含义 | 可能原因 |
|--------|------|----------|
| 200 | 成功 | - |
| 400 | 请求参数错误 | 请求体格式不正确 |
| 401 | 未授权 | 用户名或密码错误 |
| 404 | 接口不存在 | 路径错误或后端未部署该接口 |
| 500 | 服务器错误 | 后端代码错误 |
| CORS错误 | 跨域被阻止 | 后端未配置CORS |
| 超时 | 请求超时 | 网络慢或后端响应慢 |

## 立即验证API是否可用

在浏览器控制台运行：

```javascript
fetch('https://www.universalfuture.online/api/v1/doctor/login', {
  method: 'OPTIONS'
})
.then(() => console.log('✅ 服务器可以连接'))
.catch(err => console.error('❌ 无法连接:', err))
```

或者尝试登录：

```javascript
fetch('https://www.universalfuture.online/api/v1/doctor/login', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({ username: 'test', password: '123456' })
})
.then(res => {
  console.log('✅ 响应状态:', res.status);
  return res.text();
})
.then(data => console.log('📄 响应数据:', data))
.catch(err => console.error('❌ 错误:', err))
```

## 你需要告诉我什么

请提供以下信息：

1. **控制台输出**：截图或复制控制台日志
2. **Network标签**：截图请求详情
3. **具体显示的错误信息**：界面上显示什么？

这样我才能帮你精确定位问题！

